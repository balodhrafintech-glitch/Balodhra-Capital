<!doctype html>
<html lang="hi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>GitHub ‚Üí WhatsApp Lead Form</title>
  <style>
    :root{--bg:#f7fafc;--card:#ffffff;--accent:#0f172a;--muted:#6b7280}
    body{font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; background:var(--bg); color:var(--accent); margin:0; padding:24px; display:flex; align-items:center; justify-content:center; min-height:100vh;}
    .card{background:var(--card); padding:24px; border-radius:12px; box-shadow:0 6px 18px rgba(15,23,42,0.06); width:100%; max-width:520px;}
    h1{margin:0 0 10px; font-size:20px;}
    p.sub{margin-top:0; margin-bottom:18px; color:var(--muted); font-size:13px;}
    .grid{display:grid; grid-template-columns:1fr 1fr; gap:12px;}
    label{display:block; font-size:13px; margin-bottom:6px;}
    input, select{width:100%; padding:10px 12px; border-radius:8px; border:1px solid #e6e9ef; font-size:14px; box-sizing:border-box;}
    input[type="date"]{padding:8px 12px;}
    .full{grid-column:1 / -1;}
    .btn{display:inline-block; margin-top:12px; padding:11px 16px; border-radius:10px; background:#16a34a; color:white; border:0; cursor:pointer; font-weight:600;}
    .note{font-size:12px; color:var(--muted); margin-top:10px;}
    .small{font-size:12px; color:#ef4444;}
    footer{margin-top:14px; font-size:12px; color:var(--muted);}
  </style>
</head>
<body>
  <main class="card" role="main">
    <h1>Lead Form ‚Äî GitHub ‚Üí WhatsApp</h1>
    <p class="sub">Name, Surname, Mobile, Birth date, Gender ‡§≠‡§∞‡•á ‚Äî submit ‡§ï‡§∞‡§®‡•á ‡§™‡§∞ WhatsApp message ‡§ñ‡•Å‡§≤‡•á‡§ó‡§æ.</p>

    <form id="leadForm" autocomplete="off">
      <div class="grid">
        <div>
          <label for="fname">Name</label>
          <input id="fname" name="fname" type="text" placeholder="‡§™‡§π‡§≤‡§æ ‡§®‡§æ‡§Æ" required maxlength="50" />
        </div>

        <div>
          <label for="lname">Surname</label>
          <input id="lname" name="lname" type="text" placeholder="‡§Ü‡§ñ‡§º‡§ø‡§∞‡•Ä ‡§®‡§æ‡§Æ" required maxlength="50" />
        </div>

        <div class="full">
          <label for="leadMobile">Mobile number (lead)</label>
          <input id="leadMobile" name="leadMobile" type="tel" placeholder="e.g. 9876543210 ‡§Ø‡§æ +919876543210" required maxlength="20" />
          <div class="note">‡§Ö‡§ó‡§∞ ‡§∏‡§ø‡§∞‡•ç‡§´ 10 ‡§Ö‡§Ç‡§ï ‡§°‡§æ‡§≤‡•ã‡§ó‡•á ‡§§‡•ã ‡§™‡•ç‡§∞‡§£‡§æ‡§≤‡•Ä ‡§≠‡§æ‡§∞‡§§ ‡§ï‡•á +91 ‡§ú‡•ã‡§°‡§º ‡§¶‡•á‡§ó‡•Ä‡•§</div>
        </div>

        <div>
          <label for="birth">Birth date</label>
          <input id="birth" name="birth" type="date" />
        </div>

        <div>
          <label for="gender">Gender</label>
          <select id="gender" name="gender" required>
            <option value="">-- ‡§ö‡•Å‡§®‡•á‡§Ç --</option>
            <option value="Male">Male</option>
            <option value="Female">Female</option>
            <option value="Other">Other</option>
            <option value="Prefer not to say">Prefer not to say</option>
          </select>
        </div>

        <div class="full">
          <button type="submit" class="btn">Send to WhatsApp</button>
        </div>
      </div>

      <div id="error" class="small" style="display:none;"></div>
    </form>

    <footer>
      Target WhatsApp number: <strong>+91 63535 11804</strong><br />
      (‡§á‡§∏‡•á ‡§¨‡§¶‡§≤‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§®‡•Ä‡§ö‡•á JS ‡§Æ‡•á‡§Ç targetNumber ‡§¨‡§¶‡§≤‡§ø‡§è)
    </footer>
  </main>

  <script>
    (function(){
      const form = document.getElementById('leadForm');
      const errEl = document.getElementById('error');

      // TARGET WHATSAPP NUMBER (no + or spaces) ‚Äî change here if ‡§ö‡§æ‡§π‡§ø‡§è
      const targetNumber = '916353511804';

      function cleanDigits(s){
        if(!s) return '';
        const d = s.replace(/\\D/g,''); // remove non-digits
        // heuristic: if user entered 10 digits -> assume Indian local -> add 91
        if(d.length === 10) return '91' + d;
        // if user entered 11 and starts with 0 -> strip leading 0 and add 91
        if(d.length === 11 && d.startsWith('0')) return '91' + d.slice(1);
        // if starts with 91 already, keep
        if(d.startsWith('91')) return d;
        // otherwise return as-is (could be international with country code)
        return d;
      }

      function encodeMessage(obj){
        // create a neat multi-line message
        let lines = [];
        lines.push('üìå *New Lead*');
        lines.push('');
        lines.push('*Name:* ' + (obj.fname || '-'));
        lines.push('*Surname:* ' + (obj.lname || '-'));
        lines.push('*Mobile:* ' + (obj.leadMobileDisplay || '-'));
        if(obj.leadMobileNorm) lines.push('*Mobile (normalized):* ' + obj.leadMobileNorm);
        if(obj.birth) lines.push('*Birth date:* ' + obj.birth);
        if(obj.gender) lines.push('*Gender:* ' + obj.gender);
        lines.push('');
        lines.push('_Source: GitHub hosted form_');
        return lines.join('\\n');
      }

      form.addEventListener('submit', function(e){
        e.preventDefault();
        errEl.style.display = 'none';
        const f = document.getElementById('fname').value.trim();
        const l = document.getElementById('lname').value.trim();
        const mRaw = document.getElementById('leadMobile').value.trim();
        const birth = document.getElementById('birth').value;
        const gender = document.getElementById('gender').value;

        if(!f || !l || !mRaw || !gender){
          errEl.textContent = '‡§ï‡•É‡§™‡§Ø‡§æ Name, Surname, Mobile ‡§î‡§∞ Gender ‡§ú‡§º‡§∞‡•Ç‡§∞ ‡§≠‡§∞‡•á‡§Ç‡•§';
          errEl.style.display = 'block';
          return;
        }

        const mNorm = cleanDigits(mRaw);
        // Optional basic validation: must have at least 6 digits after cleaning
        if(mNorm.length < 6){
          errEl.textContent = 'Mobile number ‡§∏‡§π‡•Ä ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à ‚Äî ‡§ï‡•É‡§™‡§Ø‡§æ ‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§®‡§Ç‡§¨‡§∞ ‡§°‡§æ‡§≤‡•á‡§Ç‡•§';
          errEl.style.display = 'block';
          return;
        }

        const message = encodeMessage({
          fname: f,
          lname: l,
          leadMobileDisplay: mRaw,
          leadMobileNorm: mNorm,
          birth: birth,
          gender: gender
        });

        // build wa.me URL
        const base = 'https://wa.me/' + encodeURIComponent(targetNumber);
        const url = base + '?text=' + encodeURIComponent(message);

        // Open WhatsApp in new tab/window
        window.open(url, '_blank');
      });
    })();
  </script>
</body>
</html>
